import{j as t}from"./jsx-runtime-DiklIkkE.js";import{_ as C}from"./lodash-CGIzQN7T.js";import{R as v}from"./index-DRjF_FHU.js";import{r as T}from"./index-DHHUZ-3A.js";import{a as I,X as U,Y as w,f as H,B as a,C as l,T as _}from"./ChartCell-lxLhA7NV.js";var q=I({chartName:"BarChart",GraphicalChild:a,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:U},{axisType:"yAxis",AxisComp:w}],formatAxisMap:H});const K=(s,e,i)=>i.payload.name==="longtail"?[s,e]:[s,i.payload.name],B=({active:s,payload:e,screenCoords:i})=>{if(s&&e&&e.length&&i){const r=e[0].payload.name;return T.createPortal(t.jsx("div",{style:{backgroundColor:"#eee",padding:"5px 10px 5px 10px",color:"#111",position:"absolute",top:i.y+10,left:i.x+10},children:t.jsx("p",{className:"label",children:`${r} : ${e[0].value}`})}),document.body)}return null},S=s=>{if(s===void 0)return t.jsx("span",{});const e=s.value;return e===void 0||!C.isArray(e)?t.jsx("span",{}):c({histogramArr:e,context:s.context})},c=({histogramArr:s,context:e})=>{const i=(n,o)=>{console.log("dumbClickHandler",n,e)},r=n=>{const o=`${n}-${crypto.randomUUID()}`;return[o,`url(#${o})`]},[d,p]=r("star"),[m,x]=r("stripe"),[h,u]=r("circle"),[f,y]=r("checkers"),[k,g]=r("leafs"),[A,j]=v.useState(null);return t.jsx("div",{className:"histogram-component",children:t.jsxs(q,{width:100,height:24,barGap:1,data:s,onClick:i,onMouseMove:(n,o)=>{j({x:o.clientX,y:o.clientY})},children:[t.jsxs("defs",{children:[t.jsx("pattern",{id:d,width:"10",height:"10",patternUnits:"userSpaceOnUse",children:t.jsx("polygon",{stroke:"pink",points:"0,0 2,5 0,10 5,8 10,10 8,5 10,0 5,2"})}),t.jsx("pattern",{id:m,width:"4",height:"4",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)",children:t.jsx("rect",{width:"2",height:"4",fill:l.NA})}),t.jsx("pattern",{id:h,width:"4",height:"4",patternUnits:"userSpaceOnUse",children:t.jsx("circle",{"data-color":"outline",stroke:"pink",cx:".5",cy:".5",r:"1.5"})}),t.jsxs("pattern",{id:f,x:"0",y:"0",width:"4",height:"4",patternUnits:"userSpaceOnUse",children:[t.jsx("rect",{stroke:"#0f0",x:"0",width:"2",height:"2",y:"0"}),t.jsx("rect",{x:"2",width:"2",height:"2",y:"2"})]}),t.jsx("pattern",{id:k,x:"0",y:"0",width:"6",height:"6",patternUnits:"userSpaceOnUse",patternTransform:"translate(1, 1) rotate(0) skewX(0)",children:t.jsx("svg",{width:"5",height:"5",viewBox:"0 0 100 100",children:t.jsx("g",{fill:"teal",opacity:"1",children:t.jsx("path",{d:"M99.9557 99.9557C45.4895 98.3748 1.6248 54.5101 0.0439453 0.0439453C54.5101 1.6248 98.3748 45.4895 99.9557 99.9557Z"})})})})]}),t.jsx(a,{dataKey:"population",stroke:"#000",fill:"gray",stackId:"stack",isAnimationActive:!1}),t.jsx(a,{dataKey:"tail",stroke:"#000",fill:"gray",stackId:"stack",isAnimationActive:!1}),t.jsx(a,{dataKey:"true",stroke:"#00f",fill:"#00f",stackId:"stack",isAnimationActive:!1}),t.jsx(a,{dataKey:"false",stroke:"#000",fill:"#fff",stackId:"stack",isAnimationActive:!1}),t.jsx(a,{dataKey:"cat_pop",stroke:l.cat_pop,fill:u,stackId:"stack",isAnimationActive:!1}),t.jsx(a,{dataKey:"unique",stroke:l.unique,fill:y,stackId:"stack",isAnimationActive:!1}),t.jsx(a,{dataKey:"longtail",stroke:l.longtail,fill:g,stackId:"stack",isAnimationActive:!1}),t.jsx(a,{dataKey:"user1",stroke:"teal",fill:p,stackId:"stack",isAnimationActive:!1}),t.jsx(a,{dataKey:"NA",fill:x,stackId:"stack",isAnimationActive:!1}),t.jsx(_,{formatter:K,allowEscapeViewBox:{x:!0,y:!0},wrapperStyle:{zIndex:99999999,color:"#111"},content:n=>t.jsx(B,{...n,screenCoords:A})})]})})};S.__docgenInfo={description:"",methods:[],displayName:"HistogramCell",props:{api:{required:!0,tsType:{name:"GridApi"},description:""},colDef:{required:!0,tsType:{name:"ColDef"},description:""},column:{required:!0,tsType:{name:"Column"},description:""},context:{required:!0,tsType:{name:"Context"},description:""},value:{required:!0,tsType:{name:"any"},description:""}}};c.__docgenInfo={description:"",methods:[],displayName:"TypedHistogramCell",props:{histogramArr:{required:!0,tsType:{name:"Array",elements:[{name:"HistogramBar"}],raw:"HistogramBar[]"},description:""},context:{required:!0,tsType:{name:"any"},description:""}}};export{S as H,c as T};
