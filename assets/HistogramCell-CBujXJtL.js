import{j as e}from"./jsx-runtime-DiklIkkE.js";import{_ as T}from"./lodash-CGIzQN7T.js";import{R as I}from"./index-DRjF_FHU.js";import{r as U}from"./index-Bx0Ph3cE.js";import{a as w,X as H,Y as q,f as _,B as a,C as l,T as K}from"./ChartCell-CdGzSEf4.js";var N=w({chartName:"BarChart",GraphicalChild:a,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:H},{axisType:"yAxis",AxisComp:q}],formatAxisMap:_});const B=(t,s,i)=>i.payload.name==="longtail"?[t,s]:[t,i.payload.name],S=({active:t,payload:s,screenCoords:i})=>{if(t&&s&&s.length&&i){const c=s[0].payload.name;return U.createPortal(e.jsx("div",{style:{backgroundColor:"#eee",padding:"5px 10px 5px 10px",color:"#111",position:"absolute",top:i.y+10,left:i.x+10},children:e.jsx("p",{className:"label",children:`${c} : ${s[0].value}`})}),document.body)}return null},b=t=>{if(console.log("HistogramCell"),console.log(t.colDef),t===void 0)return e.jsx("span",{});const s=t.value;return s===void 0||!T.isArray(s)?e.jsx("span",{}):d({histogramArr:s,context:t.context,className:t.colDef.cellClass||""})},d=({histogramArr:t,context:s,className:i})=>{const c=(r,n)=>{console.log("dumbClickHandler",r,s)},o=r=>{const n=`${r}-${crypto.randomUUID()}`;return[n,`url(#${n})`]},[p,m]=o("star"),[x,h]=o("stripe"),[u,f]=o("circle"),[y,g]=o("checkers"),[k,A]=o("leafs"),[j,C]=I.useState(null),v=`histogram-component ${i}`;return e.jsx("div",{className:v,children:e.jsxs(N,{width:100,height:24,barGap:1,data:t,onClick:c,onMouseMove:(r,n)=>{C({x:n.clientX,y:n.clientY})},children:[e.jsxs("defs",{children:[e.jsx("pattern",{id:p,width:"10",height:"10",patternUnits:"userSpaceOnUse",children:e.jsx("polygon",{stroke:"pink",points:"0,0 2,5 0,10 5,8 10,10 8,5 10,0 5,2"})}),e.jsx("pattern",{id:x,width:"4",height:"4",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)",children:e.jsx("rect",{width:"2",height:"4",fill:l.NA})}),e.jsx("pattern",{id:u,width:"4",height:"4",patternUnits:"userSpaceOnUse",children:e.jsx("circle",{"data-color":"outline",stroke:"pink",cx:".5",cy:".5",r:"1.5"})}),e.jsxs("pattern",{id:y,x:"0",y:"0",width:"4",height:"4",patternUnits:"userSpaceOnUse",children:[e.jsx("rect",{stroke:"#0f0",x:"0",width:"2",height:"2",y:"0"}),e.jsx("rect",{x:"2",width:"2",height:"2",y:"2"})]}),e.jsx("pattern",{id:k,x:"0",y:"0",width:"6",height:"6",patternUnits:"userSpaceOnUse",patternTransform:"translate(1, 1) rotate(0) skewX(0)",children:e.jsx("svg",{width:"5",height:"5",viewBox:"0 0 100 100",children:e.jsx("g",{fill:"teal",opacity:"1",children:e.jsx("path",{d:"M99.9557 99.9557C45.4895 98.3748 1.6248 54.5101 0.0439453 0.0439453C54.5101 1.6248 98.3748 45.4895 99.9557 99.9557Z"})})})})]}),e.jsx(a,{dataKey:"population",stroke:"#000",fill:"gray",stackId:"stack",isAnimationActive:!1}),e.jsx(a,{dataKey:"tail",stroke:"#000",fill:"gray",stackId:"stack",isAnimationActive:!1}),e.jsx(a,{dataKey:"true",stroke:"#00f",fill:"#00f",stackId:"stack",isAnimationActive:!1}),e.jsx(a,{dataKey:"false",stroke:"#000",fill:"#fff",stackId:"stack",isAnimationActive:!1}),e.jsx(a,{dataKey:"cat_pop",stroke:l.cat_pop,fill:f,stackId:"stack",isAnimationActive:!1}),e.jsx(a,{dataKey:"unique",stroke:l.unique,fill:g,stackId:"stack",isAnimationActive:!1}),e.jsx(a,{dataKey:"longtail",stroke:l.longtail,fill:A,stackId:"stack",isAnimationActive:!1}),e.jsx(a,{dataKey:"user1",stroke:"teal",fill:m,stackId:"stack",isAnimationActive:!1}),e.jsx(a,{dataKey:"NA",fill:h,stackId:"stack",isAnimationActive:!1}),e.jsx(K,{formatter:B,allowEscapeViewBox:{x:!0,y:!0},wrapperStyle:{zIndex:99999999,color:"#111"},content:r=>e.jsx(S,{...r,screenCoords:j})})]})})};b.__docgenInfo={description:"",methods:[],displayName:"HistogramCell",props:{api:{required:!0,tsType:{name:"GridApi"},description:""},colDef:{required:!0,tsType:{name:"ColDef"},description:""},column:{required:!0,tsType:{name:"Column"},description:""},context:{required:!0,tsType:{name:"Context"},description:""},value:{required:!0,tsType:{name:"any"},description:""}}};d.__docgenInfo={description:"",methods:[],displayName:"TypedHistogramCell",props:{histogramArr:{required:!0,tsType:{name:"Array",elements:[{name:"HistogramBar"}],raw:"HistogramBar[]"},description:""},context:{required:!0,tsType:{name:"any"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{b as H,d as T};
